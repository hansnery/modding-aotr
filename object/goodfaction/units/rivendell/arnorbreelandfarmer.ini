;------------------------------------------------------------------------------
;Creating this peasant will randomize between several variations of the peasant.
;------------------------------------------------------------------------------
Object ArnorPeasant

	SelectPortrait	= UPRohan_Peasant

	Draw = W3DScriptedModelDraw ModuleTag_01  
		DefaultModelConditionState
			;Give it a model so it'll show up in WB
			Model               = RUPsnt_1_SKN
			Skeleton            = RUPsnt_1_SKL
		End
	End

	;***** IMPORTANT NOTE! ***************************************************************	
	;Certain Upgrades and costs may need to be propagated from here. One example was veterancy
	;overlays.
	;*************************************************************************************	

	Side = Rivendell
	EditorSorting = UNIT
	BuildVariations = ArnorPeasantAdult ArnorPeasantAdultAxe ArnorPeasantSpear
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT SWARM_DOZER GRAB_AND_DROP DOZER 
	
  ;Shadow = SHADOW_DECAL
  ;ShadowSizeX = 24;
  ;ShadowSizeY = 24;
  ;ShadowTexture = ShadowI;

End

;;------------------------------------------------------------------------------
; aka PeasantAdult
Object ArnorPeasantAdult    ; ///  Adult ///
    ; ***ART Parameters ***
    
    SelectPortrait    = UPRohan_Peasant
    
    Draw = W3DScriptedModelDraw ModuleTag_01  

        StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
            
          OkToChangeModelColor = Yes
          
        RandomTexture = rupsnt2A.tga 0 rupsnt2A.tga
        RandomTexture = rupsnt2B.tga 0 rupsnt2A.tga
		RandomTexture = rupsnt2C.tga 0 rupsnt2A.tga

		RandomTexture = rupsnt2AHA.tga 0 rupsnt2AHA.tga
        RandomTexture = rupsnt2BHA.tga 0 rupsnt2AHA.tga
		RandomTexture = rupsnt2CHA.tga 0 rupsnt2AHA.tga
		
		RandomTexture = rushield01.tga 0 rushield01.tga
		RandomTexture = rushield02.tga 0 rushield01.tga
		RandomTexture = rushield03.tga 0 rushield01.tga
		RandomTexture = rushield04.tga 0 rushield01.tga
		RandomTexture = rushield05.tga 0 rushield01.tga
		RandomTexture = rushield06.tga 0 rushield01.tga
		RandomTexture = rushield07.tga 0 rushield01.tga
		RandomTexture = rushield08.tga 0 rushield01.tga
		
;;====================== MODELS ================================================================    
		
		DefaultModelConditionState
			Model               = rusnt02_skn
			Skeleton            = RUPsnt_1_SKL
		End
		
		ModelConditionState = ARMORSET_PLAYER_UPGRADE
			Model               = rusnt02HA_skn
			Skeleton            = RUPsnt_1_SKL
		End
		
		ModelConditionState = USER_1
			Model               = rusnt02DR_skn
			Skeleton            = RUPsnt_1_SKL
		End
        
;;================== ANIMATIONS =================================================================        

;;------------------  DYING -------------------------------------------------------------

        AnimationState                        = PASSENGER
            Animation                        = FLLA
                AnimationName                = RUPsnt_1_FLLA
                AnimationMode                = LOOP
            End
        End
        
        AnimationState        = THROWN_PROJECTILE
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode     = LOOP
            End
        End
        
        AnimationState                        = FREEFALL
            Animation                        = FLYA
                AnimationName                = RUPsnt_1_FLYA
                AnimationMode                = LOOP
                AnimationSpeedFactorRange    = 0.7    0.7
                AnimationBlendTime            = 10
            End
        End
        
        AnimationState        = STUNNED_FLAILING
            Animation           = FLYA
                AnimationName     = RUPsnt_1_FLYA
                AnimationMode      = LOOP
            End
            Flags               = RANDOMSTART
        End
        
        AnimationState                        = DYING SPLATTED
            Animation                        = LNDA
                AnimationName                = RUPsnt_1_LNDA
                AnimationMode                = ONCE
            End
        End
        
        AnimationState        = DYING
            Animation           = DIEA
                AnimationName     = RUPsnt_1_DIEA
                AnimationMode     = ONCE
            End
            Animation           = DIEB
                AnimationName     = RUPsnt_1_DIEB
                AnimationMode     = ONCE
            End            
        End

        AnimationState        = STUNNED_STANDING_UP
            Animation           = GTPA
                AnimationName     = RUPsnt_1_GTPA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
;            Animation           = GTPB
;                AnimationName     = RUPsnt_1_GTPB
;                AnimationMode     = ONCE
;                                AnimationSpeedFactorRange = 1.5 1.5
;            End            
        End
        
        AnimationState        = STUNNED
            Animation           = LNDA
                AnimationName     = RUPsnt_1_LNDA
                AnimationMode     = ONCE
            End
        End        
                
        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
            Animation           = RunAndFire
                AnimationName       = RUPsnt_1_ATRA
                AnimationMode       = LOOP
            End
            Flags               = RANDOMSTART 
        End


    ;;------------------ ATTACKING ---------------------------------------

        AnimationState                =    FIRING_OR_PREATTACK_A
            Animation
                AnimationName        =    RUPsnt_1_ATKA 
                AnimationMode        =    LOOP
;                UseWeaponTiming        =    Yes
            End
            Animation
                AnimationName        =    RUPsnt_1_ATKB
                AnimationMode        =    LOOP
;                UseWeaponTiming        =    Yes
            End            
        End
        
;;------------------ MOVING ------------------------------------------
    
;;===== BACKUP
        AnimationState                = MOVING BACKING_UP
            Animation                = BAKA
                AnimationName        = RUPsnt_1_BAKA
                AnimationMode        = LOOP
            End
;            Animation                = BAKB
;                AnimationName        = RUPsnt_1_BAKB
;                AnimationMode        = LOOP
;            End
;            Animation                = BAKC
;                AnimationName        = RUPsnt_1_BAKC
;                AnimationMode        = LOOP
;            End                                
        End

; OBSOLETE        
;        AnimationState                = MOVING PANICKING
;            Animation                = RUNM
;                AnimationName        = RUPsnt_1_MFDA
;                AnimationMode        = LOOP
;            End
;            Flags                    = RANDOMSTART
;            ;;ParticleSysBone            = None InfantryDustTrails
;        End
        
        AnimationState                = MOVING WANDER
            Animation                = WLKA
                AnimationName        = RUPsnt_1_WLKA
                AnimationMode        = LOOP
            End
;            Animation                = WLKE
;                AnimationName        = RUPsnt_1_WLKE
;                AnimationMode        = LOOP
;            End
            
            ;;ParticleSysBone     = None InfantryDustTrails
        End
        
        AnimationState                = MOVING
            Animation                = RUNA
                AnimationName        = RUPsnt_1_RUNA
                AnimationMode        = LOOP
;                AnimationSpeedFactorRange = 0.8 0.8
            End
            Animation                = RUNC
                AnimationName        = RUPsnt_1_RUNC
                AnimationMode        = LOOP
;                AnimationSpeedFactorRange = 0.8 0.8
            End            
            Flags                    = RANDOMSTART
            ParticleSysBone            = None InfantryDustTrails
        End
        
; WORKING        
        AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED ; building from too far to smack his hammer
            Animation                =    Stand
                AnimationName        =    RUPsnt_1_IDLA 
                AnimationMode        =    LOOP
            End
        End

        
        AnimationState                = ACTIVELY_CONSTRUCTING
            Animation                = WRKA
                AnimationName        = RUPsnt_1_WRKA
                AnimationMode        = ONCE
            End
            Animation                = WRKD
                AnimationName        = RUPsnt_1_WRKD
                AnimationMode        = ONCE
            End
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End    
    
;;------------ HIT REACTION -----------------------------------------------------

        AnimationState = HIT_REACTION
            Animation = Hit_Level_1_a
                AnimationName = RUPsnt_1_HITA
                AnimationMode = ONCE
            End
        End

;;------------- EMOTIONS ---------------------------------------------

            

;;======== POINTING

        AnimationState                = EMOTION_POINTING
            Animation                = Pointing1
                AnimationName        = RUPsnt_1_PNTA
                AnimationMode        = LOOP
                AnimationSpeedFactorRange = 0.75 1.25
            End
        End

;;======= TERROR
        AnimationState                = EMOTION_AFRAID
            Animation                = &&FEAR&&
                AnimationName        = RUPsnt_1_FERA
                AnimationMode        = LOOP
            End
        End
        
        AnimationState                = EMOTION_TAUNTING
            Animation                = TNTA
                AnimationName        = RUPsnt_1_TNTA
                AnimationMode        = ONCE
            End
            Animation                = TNTB
                AnimationName        = RUPsnt_1_TNTB
                AnimationMode        = ONCE
            End    
            Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE        
        End

;;====== CELEBRATING        
            AnimationState                = EMOTION_CELEBRATING
                Animation                = CHRA
                    AnimationName        = RUPsnt_1_CHRA
                    AnimationMode        = ONCE
                End
                Animation                = CHRB
                    AnimationName        = RUPsnt_1_CHRB
                    AnimationMode        = ONCE
                End
                Flags                    = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
            End
            
            AnimationState                = EMOTION_ALERT
                StateName                = STATE_Alert
                Animation                = &&ALERT&&
                    AnimationName        = RUPsnt_1_IDLA
                    AnimationMode        = LOOP
                End
            End
            
    ;;------------- SELECTED ---------------------------------------------

        AnimationState                =    SELECTED
            StateName                =    STATE_Selected
            SimilarRestart            =   Yes            
            Animation                =    ATNB
                AnimationName        =    RUPsnt_1_ATNB
                AnimationMode        =    LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End    

    ;;--------------- IDLE STATES -----------------------------------------------------------------    
        IdleAnimationState
            StateName            =    STATE_Idle
            Animation           = IDLA
                AnimationName     = RUPsnt_1_IDLA
                AnimationMode     = ONCE
                AnimationPriority = 20
            End

            Animation           = IDLC
                AnimationName     = RUPsnt_1_IDLC
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLD
                AnimationName     = RUPsnt_1_IDLD
                AnimationMode     = ONCE
                AnimationPriority = 2
            End

            Animation           = IDLE
                AnimationName     = RUPsnt_1_IDLE
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLF
                AnimationName     = RUPsnt_1_IDLF
                AnimationMode     = ONCE
                AnimationPriority = 1
            End

            Animation           = IDLG
                AnimationName     = RUPsnt_1_IDLG
                AnimationMode     = ONCE
                AnimationPriority = 1                
            End
            
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript        
        End
        
    ;---Transitions-------------------------------------        

        TransitionState       = TRANS_SelectedToIdle    
            Animation           = ATNC
                AnimationName     = RUPsnt_1_ATNC
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End
        
        TransitionState                =    TRANS_IdleToSelected
            Animation                =    ATNA
                AnimationName        =    RUPsnt_1_ATNA
                AnimationMode        =    ONCE
                AnimationSpeedFactorRange = 0.7 1.2
            End
        End    
        
    End
	
	; ***DESIGN parameters ***
	Side = Rivendell
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	
	CommandPoints = 4

	CommandSet = PeasantCommandSet
	
	BountyValue = ROHAN_PEASANT_BOUNTY_VALUE

	;;;; WEAPON SETS ;;;;
	WeaponSet
		Conditions          = None 
		Weapon              = PRIMARY		BreelandPeasantWeap
	End
	
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY		RohanFighterSwordUpgraded
	End
	
	;;;; ARMOR SETS ;;;;	
	ArmorSet
		Conditions      = None
		Armor           = PeasantArmor
		DamageFX        = NormalDamageFX
	End

	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SoldierHeavyArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD
			
	DisplayName = OBJECT:BreeFarmer
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	EquivalentTo = RohanPeasant	


	; *** AUDIO Parameters ***;

	VoiceAttack 				= PeasantMaleVoiceAttack
	VoiceAttackCharge 			= PeasantMaleVoiceAttackCharge
	VoiceAttackStructure 			= PeasantMaleVoiceAttackBuilding
	VoiceAttackMachine 			= PeasantMaleVoiceAttack
	VoiceCreated 				= PeasantMaleVoiceSalute
	VoiceFullyCreated 			= PeasantMaleVoiceSalute
	VoiceGuard					= PeasantMaleVoiceMove
	VoiceMove 					= PeasantMaleVoiceMove
	VoiceMoveToCamp 				= PeasantMaleVoiceMoveCamp
	VoiceMoveWhileAttacking 		= PeasantMaleVoiceDisengage
	VoicePriority				= 30
	VoiceRetreatToCastle 			= PeasantMaleVoiceRetreat
	VoiceSelect 				= PeasantMaleVoiceSelectMS
	VoiceSelectBattle  			= PeasantMaleVoiceSelectBattle
	
	VoiceEnterStateAttack 			= PeasantMaleVoiceEnterStateAttack
	VoiceEnterStateAttackCharge 		= PeasantMaleVoiceEnterStateAttackCharge
	VoiceEnterStateAttackStructure 	= PeasantMaleVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackMachine 		= PeasantMaleVoiceEnterStateAttackBuilding
	VoiceEnterStateMove 			= PeasantMaleVoiceEnterStateMove
	VoiceEnterStateMoveToCamp 		= PeasantMaleVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking 	= PeasantMaleVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle	= PeasantMaleVoiceEnterStateRetreat
		
	SoundImpact					= ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison			= PeasantMaleVoiceGarrison    
		VoiceRepair				= PeasantMaleVoiceRepair
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	ClientBehavior = RandomSoundSelectorClientBehavior ModuleTag_RSSCB
		; This is a counter to the similar module in the RohanPeasant4. Without this,
		; the larger a group, the more likely it is a woman's voice will be heard; until
		; a 100 peasant group will basically ALWAYS be playing a woman's voice. This ensures that a 
		; large group of mixed peasants will still be led by a man. [Sorry, but that's
		; Middle Earth for you -- just ask Eowyn!]
		Chance = 5% 
		RerollOnEveryFrame = No ; For consistancy
		VoicePriority = 32 ; Bossy man is high enough to overcome "bossy" women
	End
	
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallGeneric1		Animation:RUPsnt_1_SKL.RUPsnt_1_DIEA	Frames:45
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:RUPsnt_1_SKL.RUPsnt_1_DIEB	Frames:44
		AnimationSound = Sound:BodyFallGeneric1		Animation:RUPsnt_1_SKL.RUPsnt_1_LNDA	Frames:4
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER SWARM_DOZER GRAB_AND_DROP
	
;	CommandSet = GondorWorkerCommandSet
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = 100				;BALANCE Peasant Health
		MaxHealthDamaged  = ROHAN_PEASANT_HEALTH_DAMAGED			
		;RecoveryTime      = ROHAN_PEASANT_HEALTH_RECOVERY_TIME		
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS
		RepairHealthPercentPerSecond	= 0.2%    ; % of max health to repair each second
		AILuaEventsList					= RohanPeasant2Functions
		AttackPriority				= 	AttackPriority_Infantry
		SpecialContactPoints		   = Repair
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_FOOT_FAST_MEMBER_SPEED
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_FOOT_FAST_MEMBER_SPEED
	End 

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 1.0     ; in Dist/Sec
		DestructionDelay = 8000
            Sound = INITIAL PeasantMaleVoiceDie
	End
	
 	;Behavior = WeaponSetUpgrade ModuleTag_Weaponpgrade
		;TriggeredBy = Upgrade_RohanForgedBladesForPeasants
	;End

 	;Behavior = ArmorUpgrade ModuleTag_ArmorUpgrade
		;TriggeredBy = Upgrade_RohanHeavyArmorForPeasants
		;ArmorSetFlag			= PLAYER_UPGRADE
	;End

	;; Don't remove this. It's required for newly spawned members
	;; It does not change the armor set, but it allows us to accept the Drafted Upgrade
 	;Behavior = ArmorUpgrade ModuleTag_ArmorUpgradeDrafted
		;TriggeredBy = Upgrade_Drafted
		;IgnoreArmorUpgrade = Yes ; does not trigger any armor sets
	;End

	Behavior = RepairSpecialPower ModuleTag_RepairSPecialPower
		SpecialPowerTemplate      = SpecialRepairStructure
	End		

	;-------------------------------------------------------------------------------
	;
	;	Sub objects upgrade.
	;
	;Behavior = SubObjectsUpgrade Armor_Upgrade
		;TriggeredBy	= Upgrade_RohanHeavyArmorForPeasants
		;ShowSubObjects	= HELMET
		;HideSubObjects	= HAMMER
		;UpgradeTexture	= RUPeasant01.tga 0 RUPeasant01_HA.tga
		;UpgradeTexture	= RUPeasant01_Alt.tga 0 RUPeasant01_HA.tga
		;UpgradeTexture	= RUPeasantWep.tga 0 RUPeasantWep_HA.tga
		;UpgradeTexture	= RUPeasantWep_L.tga 0 RUPeasantWep_HA.tga
		;RecolorHouse	= Yes
		;ExcludeSubobjects = Forged_Blade
	;End
	
	;Behavior = SubObjectsUpgrade ForgedBlade_Upgrade
		;TriggeredBy		= Upgrade_RohanForgedBladesForPeasants
		;ShowSubObjects	= FORGED_BLADE SWORD			; Forged blade will give us a sword too, as we'll get a weapon upgrade.
		;HideSubObjects	= HAMMER
	;End
	
	;Behavior = SubObjectsUpgrade Drafted_Upgrade
		;TriggeredBy		= Upgrade_Drafted
		;ShowSubObjects	= SWORD SHIELD
		;HideSubObjects	= HAMMER
		;FXListUpgrade   = FX_Draft
		;Sound = INITIAL PeasantVoiceDraftUpgrade			;this doesn't work
	;End
	;-------------------------------------------------------------------------------


	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 16  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 16
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2333 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 2333 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 2333 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger

		FastHitsResetReaction = Yes    ;If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Peasant Peasant_Male
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;

End

ChildObject ArnorPeasantAdultAxe ArnorPeasantAdult

	; After this we can get FB 
	Behavior = WorkerAIUpdate ModuleTag_10
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS
		RepairHealthPercentPerSecond	= 0.2%    ; % of max health to repair each second
		AILuaEventsList					= RohanPeasant3Functions
		AttackPriority				= 	AttackPriority_Infantry
		SpecialContactPoints		   = Repair
	End
	
	; After this we can get FB 
	;Behavior = SubObjectsUpgrade ForgedBlade_Upgrade
	;	TriggeredBy		= Upgrade_RohanForgedBlades
	;	ShowSubObjects	= Forged_Axe
	;End	
End
	
;;------------------------------------------------------------------------------
; aka PeasantSpear
Object ArnorPeasantSpear    ; ///  Polearm ///
    ; ***ART Parameters ***
    Scale = .95
    SelectPortrait    = UPRohan_Peasant
    
    Draw = W3DScriptedModelDraw ModuleTag_01  

        StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD
            
          OkToChangeModelColor = Yes
          
        RandomTexture = rupsnt1a.tga 0 rupsnt1a.tga
        RandomTexture = rupsnt1b.tga 0 rupsnt1a.tga
		RandomTexture = rupsnt1c.tga 0 rupsnt1a.tga
		RandomTexture = rupsnt1d.tga 0 rupsnt1a.tga
		
		RandomTexture = rupsnt1aHA.tga 0 rupsnt1aHA.tga
        RandomTexture = rupsnt1bHA.tga 0 rupsnt1aHA.tga
		RandomTexture = rupsnt1cHA.tga 0 rupsnt1aHA.tga
		RandomTexture = rupsnt1dHA.tga 0 rupsnt1aHA.tga
		
		RandomTexture = rushield01.tga 0 rushield01.tga
		RandomTexture = rushield02.tga 0 rushield01.tga
		RandomTexture = rushield03.tga 0 rushield01.tga
		RandomTexture = rushield04.tga 0 rushield01.tga
		RandomTexture = rushield05.tga 0 rushield01.tga
		RandomTexture = rushield06.tga 0 rushield01.tga
		RandomTexture = rushield07.tga 0 rushield01.tga
		RandomTexture = rushield08.tga 0 rushield01.tga

;;====================== MODELS ================================================================    
		
		DefaultModelConditionState
			Model               = rupsnt01_skn
			Skeleton            = eumthlnd_skl
		End
		
		ModelConditionState = ARMORSET_PLAYER_UPGRADE
			Model               = rupsnt01HA_skn
			Skeleton            = eumthlnd_skl
		End
		
		ModelConditionState = USER_1
			Model               = rupsnt01DR_skn
			Skeleton            = eumthlnd_skl
		End
        
;;================== ANIMATIONS =================================================================        

AnimationState                        = PASSENGER
            Animation                        = Grabbed
                AnimationName                = eumthlnd_FLYA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = THROWN_PROJECTILE
            Animation                       = FlyA
                AnimationName                   = eumthlnd_FLYA
                AnimationMode               = LOOP
            End
        End
        AnimationState                        = FREEFALL
            Animation                        = Falling
                AnimationName                = eumthlnd_FLYA
                AnimationMode                = LOOP
                AnimationBlendTime            = 10
            End
        End
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A
	 	Animation = ATKC
			AnimationName		= EUMthlnd_ATKA
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes	
		End
	End

	AnimationState =  FIRING_OR_PREATTACK_A
		Animation = KickSinceWeAreMelee
			AnimationName		= EUMthlnd_SKL.EUMthlnd_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
		Animation = KickSinceWeAreMelee
			AnimationName		= EUMthlnd_SKL.EUMthlnd_ATKB
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
		Animation = KickSinceWeAreMelee
			AnimationName		= EUMthlnd_SKL.EUMthlnd_ATKC
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End

	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKC
			AnimationName		= EUMthlnd_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		StateName = PikeUp
	End
    AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP
		Animation = Moving_Back
			AnimationName = EUMthlnd_BAKA	
		    AnimationMode = LOOP
		End	
    End
	AnimationState = ALTERNATE_FORMATION MOVING
	 	Animation = ATKC
			AnimationName		= EUMthlnd_RUNB
			AnimationMode		= LOOP
		End
	End
	AnimationState						= DYING SPLATTED
 		Animation						= Splat
			AnimationName				= EUMthlnd_LNDA
			AnimationMode				= ONCE
		End
    End
     AnimationState = ALTERNATE_FORMATION DYING AFLAME
		Animation = Flaming_Death
			AnimationName = EUMthlnd_MFDA
		    AnimationMode = ONCE
		End
    End
    AnimationState =  ALTERNATE_FORMATION DYING 
		Animation = Dying_1
			AnimationName = EUMthlnd_DIEA
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
		Animation = Dying_2
			AnimationName = EUMthlnd_DIEB
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
		Animation = Dying_3
			AnimationName = EUMthlnd_DIEC
			AnimationMode = ONCE
			AnimationBlendTime			= 15
		End
    End
	 AnimationState = ALTERNATE_FORMATION
         Animation = ATKC
            AnimationName        = EUMthlnd_PTLB
            AnimationMode        = LOOP
        End
        StateName = STATE_Planted
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "STATE_Planted"	and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
		EndScript
    End
        AnimationState                        = STUNNED_FLAILING 
            Animation                       = FlyA
                AnimationName               = eumthlnd_FLYA
                AnimationMode               = LOOP
            End
        End
        AnimationState                         = DYING SPLATTED
            Animation                         = Splatted_On_Ground
                AnimationName                 = eumthlnd_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
        End
        AnimationState                        = DYING AFLAME
            Animation                        = MFDA
                AnimationName                = eumthlnd_MFDA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = DYING
            Animation                        = DIEB
                AnimationName                = eumthlnd_DIEA
                AnimationMode                = ONCE
            End
            Animation                        = DIEC
                AnimationName                = eumthlnd_DIEB
                AnimationMode                = ONCE
            End
            Animation                        = DIED
                AnimationName                = eumthlnd_DIEC
                AnimationMode                = ONCE
            End
        End
        AnimationState                        = STUNNED_STANDING_UP
            Animation                        = GTPA
                AnimationName                = eumthlnd_GTPA
                AnimationMode                = ONCE
                AnimationSpeedFactorRange = 1.5 1.5
            End
        End
        AnimationState            =     STUNNED
            Animation            =     Slatted_On_Ground
            AnimationName                 = eumthlnd_LNDA
                AnimationMode                 = ONCE
            End
            EnteringStateFX                    = FX_OrcHitGround
       End
	   
	   ; "building" with huge hammer
		AnimationState = ACTIVELY_CONSTRUCTING DEPLOYED ; building from too far to smack his hammer
			Animation				=	Stand
				AnimationName		=	eumthlnd_skl.eumthlnd_idla 
				AnimationMode		=	LOOP
			End
		End

		
		AnimationState				= ACTIVELY_CONSTRUCTING
			Animation				= WRKA
				AnimationName		= eumthlnd_skl.eumthlnd_ATKA
				AnimationMode		= ONCE
			End
			Flags					= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		End	
	   
        AnimationState        = MOVING FIRING_OR_PREATTACK_A
            ShareAnimation        = Yes
			Animation           = RunAndFire
                AnimationName       = eumthlnd_ATRA
                AnimationMode       = LOOP
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags               = RANDOMSTART  
        End
        AnimationState                        = MOVING EMOTION_TERROR EMOTION_LOOK_TO_SKY
            Animation                    = TerrorFromTheSky
                AnimationName            = eumthlnd_RUNE
                AnimationMode            = LOOP
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING EMOTION_TERROR
            Animation                        = TerrorFromTheSky
                AnimationName                = eumthlnd_RUNE
                AnimationMode                = ONCE
            End
            ParticleSysBone                = None InfantryDustTrails
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState                        = MOVING BACKING_UP
            Animation                        = BAKA
                AnimationName                = eumthlnd_BAKA
                AnimationMode                = LOOP
            End
            Animation                        = BAKB
                AnimationName                = eumthlnd_BAKB
                AnimationMode                = LOOP
            End
            Flags = RANDOMSTART
        End
        AnimationState                        = MOVING PANICKING
            Animation                        = MFDA
                AnimationName                = eumthlnd_MFDA
                AnimationMode                = LOOP
            End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
		AnimationState                        = MOVING ATTACKING
            Animation = TrotAndFire
				AnimationName = EUMthlnd_RUNC
				AnimationMode = LOOP
			End
			Animation = TrotAndFire2
				AnimationName = EUMthlnd_RUND
				AnimationMode = LOOP
			End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
		AnimationState                        = MOVING
            ShareAnimation                    = Yes
			Animation = RUNA
				AnimationName = EUMthlnd_RUNA
				AnimationMode = LOOP
			End
			Animation = RUNB
				AnimationName = EUMthlnd_RUNB
				AnimationMode = LOOP
			End
            Flags                            = RANDOMSTART
            ParticleSysBone                = None InfantryDustTrails
        End
        AnimationState                        = EMOTION_UNCONTROLLABLY_AFRAID
            Animation                        = FERA
                AnimationName                = eumthlnd_FERA
                AnimationMode                = LOOP
            End 
        End
        AnimationState                        = ATTACKING
            Animation                        = ALERT_1
                AnimationName                = eumthlnd_IDLA
                AnimationMode                = LOOP
            End
        End
        AnimationState                        = HIT_REACTION
            Animation                        = HITB
                AnimationName                = eumthlnd_HITA
                AnimationMode                = ONCE
            End
        End
        AnimationState                        = EMOTION_ALERT EMOTION_AFRAID
            Animation                        = APPB
                AnimationName                = eumthlnd_PNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART
        End
        AnimationState                        = EMOTION_AFRAID
            Animation                        = FERA
                AnimationName                = eumthlnd_FERA
                AnimationMode                = LOOP
            End 
        End
        AnimationState                        = EMOTION_POINTING
            Animation                        = Pointing1
                AnimationName                = eumthlnd_PNTA
                AnimationMode                = LOOP
            End
        End
		AnimationState                        = EMOTION_TAUNTING
            Animation                        = Taunting1
                AnimationName                = eumthlnd_TNTA
                AnimationMode                = ONCE
            End
            Animation                        = Taunting2
                AnimationName                = eumthlnd_TNTB
                AnimationMode                = ONCE
            End
            Flags                            = RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState                        = EMOTION_CELEBRATING
            Animation                        = CHRB
                AnimationName                = eumthlnd_CHRA
                AnimationMode                = ONCE
            End
            Animation                        = CHRC
                AnimationName                = eumthlnd_CHRB
                AnimationMode                = ONCE
            End
			Animation                        = CHRC
                AnimationName                = eumthlnd_CHRC
                AnimationMode                = ONCE
            End
            Flags                            =    RESTART_ANIM_WHEN_COMPLETE
        End
		AnimationState                        = EMOTION_ALERT
            Animation                        = ALERT_1
                AnimationName                = eumthlnd_IDLA
                AnimationMode                = LOOP
                AnimationPriority            = 10
            End
            Flags                            = RESTART_ANIM_WHEN_COMPLETE
        End
        AnimationState        = SELECTED
            StateName           = STATE_Selected
            Animation           = ATNB
                AnimationName     = eumthlnd_ATNB
                AnimationMode     = LOOP
            End
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" 
                then 
                    CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") 
                end
                if CurDrawableModelcondition("ATTACKING")
                then
                    return "IDLA"
                else
                    return "ATNA"
                end
            EndScript
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
            EndScript
        End
        AnimationState                = USER_3
            StateName                = STATE_User_3
            Animation                = GUARD_STANCE
                AnimationName        = eumthlnd_IDLA
                AnimationMode        = LOOP
            End
        End	
        IdleAnimationState				= 
            StateName                = STATE_Idle
            Animation                = IDLB
                AnimationName       = eumthlnd_IDLB
                AnimationMode       = ONCE
                AnimationPriority   = 20
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLF
                AnimationName       = eumthlnd_IDLC
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLG
                AnimationName       = eumthlnd_IDLD
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End
            Animation                = IDLJ
                AnimationName       = eumthlnd_IDLE
                AnimationMode       = ONCE
                AnimationPriority   = 1
                AnimationSpeedFactorRange = 0.9 1.1
                AnimationBlendTime    = 15
            End       
			Flags                    = RESTART_ANIM_WHEN_COMPLETE  
            BeginScript
                Prev = CurDrawablePrevAnimationState()
                if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
            EndScript
        End
        TransitionState       = TRANS_TO_USER_1
            Animation
                AnimationName     = eumthlnd_RCTA
                AnimationMode     = ONCE
            End
        End
        TransitionState       = TRANS_IdleToSelected
            Animation           = ATNA
                AnimationName     = eumthlnd_ATNA
                AnimationMode     = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End
        TransitionState        = TRANS_SelectedToIdle
            Animation            = ATND
                AnimationName    = eumthlnd_ATNC
                AnimationMode    = ONCE
                AnimationSpeedFactorRange = 0.9 1.0
            End
        End
		TransitionState = Trans_Down_To_Up
			Animation = Transition
				AnimationName = EUMthlnd_PLTC
				AnimationMode = ONCE
			End
		End
		TransitionState = Trans_Up_To_Down
			Animation = Transition
				AnimationName = EUMthlnd_PLTA
				AnimationMode = ONCE
			End
		End
		TransitionState = TRANS_BS_Normal
			Animation = Transition
				AnimationName				= EUMthlnd_ATNA
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
				AnimationMustCompleteBlend	= yes
			End
		End
		TransitionState = TRANS_SR_Alt
		End
		TransitionState = TRANS_RS_Alt
		End
		TransitionState = TRANS_BS_Alt
		End
		TransitionState = TRANS_SB_Alt
		End
		TransitionState = TRANS_BR_Alt
		End
		TransitionState = TRANS_RB_Alt
		End
	End
	
		; ***DESIGN parameters ***
	Side = Rivendell
	EditorSorting = UNIT
	ThreatLevel = 1.0
	TransportSlotCount = TRANSPORTSLOTCOUNT_UNIT
	
	CommandPoints = 4

	CommandSet = PeasantCommandSet
	
	BountyValue = ROHAN_PEASANT_BOUNTY_VALUE

	;;;; WEAPON SETS ;;;;
	WeaponSet
		Conditions          = None 
		Weapon              = PRIMARY		BreelandPeasantWeapLong ;BreelandPeasantWeap
	End
	
	WeaponSet
		Conditions			= PLAYER_UPGRADE
		Weapon				= PRIMARY		RohanFighterSwordUpgraded
	End
	
	;;;; ARMOR SETS ;;;;	
	ArmorSet
		Conditions      = None
		Armor           = PeasantArmor
		DamageFX        = NormalDamageFX
	End

	ArmorSet
		Conditions      = PLAYER_UPGRADE
		Armor           = SoldierHeavyArmor
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_STANDARD_MELEE
	ShroudClearingRange = SHROUD_CLEAR_STANDARD
			
	DisplayName = OBJECT:BreeFarmer
	CrushableLevel = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrushRevengeWeapon = BasicInfantryCrushRevenge
	EquivalentTo = RohanPeasant	


	; *** AUDIO Parameters ***;

	VoiceAttack 				= PeasantMaleVoiceAttack
	VoiceAttackCharge 			= PeasantMaleVoiceAttackCharge
	VoiceAttackStructure 			= PeasantMaleVoiceAttackBuilding
	VoiceAttackMachine 			= PeasantMaleVoiceAttack
	VoiceCreated 				= PeasantMaleVoiceSalute
	VoiceFullyCreated 			= PeasantMaleVoiceSalute
	VoiceGuard					= PeasantMaleVoiceMove
	VoiceMove 					= PeasantMaleVoiceMove
	VoiceMoveToCamp 				= PeasantMaleVoiceMoveCamp
	VoiceMoveWhileAttacking 		= PeasantMaleVoiceDisengage
	VoicePriority				= 30
	VoiceRetreatToCastle 			= PeasantMaleVoiceRetreat
	VoiceSelect 				= PeasantMaleVoiceSelectMS
	VoiceSelectBattle  			= PeasantMaleVoiceSelectBattle
	
	VoiceEnterStateAttack 			= PeasantMaleVoiceEnterStateAttack
	VoiceEnterStateAttackCharge 		= PeasantMaleVoiceEnterStateAttackCharge
	VoiceEnterStateAttackStructure 	= PeasantMaleVoiceEnterStateAttackBuilding
	VoiceEnterStateAttackMachine 		= PeasantMaleVoiceEnterStateAttackBuilding
	VoiceEnterStateMove 			= PeasantMaleVoiceEnterStateMove
	VoiceEnterStateMoveToCamp 		= PeasantMaleVoiceEnterStateMoveCamp
	VoiceEnterStateMoveWhileAttacking 	= PeasantMaleVoiceEnterStateDisengage
	VoiceEnterStateRetreatToCastle	= PeasantMaleVoiceEnterStateRetreat
		
	SoundImpact					= ImpactHorse
	
	UnitSpecificSounds
		VoiceGarrison			= PeasantMaleVoiceGarrison    
		VoiceRepair				= PeasantMaleVoiceRepair
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"

	ClientBehavior = RandomSoundSelectorClientBehavior ModuleTag_RSSCB
		; This is a counter to the similar module in the RohanPeasant4. Without this,
		; the larger a group, the more likely it is a woman's voice will be heard; until
		; a 100 peasant group will basically ALWAYS be playing a woman's voice. This ensures that a 
		; large group of mixed peasants will still be led by a man. [Sorry, but that's
		; Middle Earth for you -- just ask Eowyn!]
		Chance = 5% 
		RerollOnEveryFrame = No ; For consistancy
		VoicePriority = 32 ; Bossy man is high enough to overcome "bossy" women
	End
	
	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallGeneric1		Animation:RUPsnt_1_SKL.RUPsnt_1_DIEA	Frames:45
		AnimationSound = Sound:BodyFallGenericNoArmor	Animation:RUPsnt_1_SKL.RUPsnt_1_DIEB	Frames:44
		AnimationSound = Sound:BodyFallGeneric1		Animation:RUPsnt_1_SKL.RUPsnt_1_LNDA	Frames:4
	End


	; *** ENGINEERING Parameters ***
	RadarPriority = UNIT
	KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT DOZER SWARM_DOZER GRAB_AND_DROP
	
;	CommandSet = GondorWorkerCommandSet
	
	Body = ActiveBody ModuleTag_02
		CheerRadius 	  = EMOTION_CHEER_RADIUS
		MaxHealth         = 100				;BALANCE Peasant Health
		MaxHealthDamaged  = ROHAN_PEASANT_HEALTH_DAMAGED			
		;RecoveryTime      = ROHAN_PEASANT_HEALTH_RECOVERY_TIME		
	End
	
	Behavior = WorkerAIUpdate ModuleTag_10
		AutoAcquireEnemiesWhenIdle		= Yes ATTACK_BUILDINGS
		RepairHealthPercentPerSecond	= 0.1%    ; % of max health to repair each second
		AILuaEventsList					= RohanPeasant1Functions
		AttackPriority				= 	AttackPriority_Infantry
		SpecialContactPoints		   = Repair
	End

	LocomotorSet
		Locomotor = HumanLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_FOOT_FAST_MEMBER_SPEED	
	End

	LocomotorSet
		Locomotor = HumanWanderLocomotor
		Condition = SET_WANDER
		Speed     = NORMAL_FOOT_FAST_MEMBER_SPEED	
	End 

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult = 1.0
	End
	
	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes = ALL
		SinkDelay = 3000
		SinkRate = 1.0     ; in Dist/Sec
		DestructionDelay = 8000
            Sound = INITIAL PeasantMaleVoiceDie
	End
	
 	;Behavior = WeaponSetUpgrade ModuleTag_Weaponpgrade
	;	TriggeredBy = Upgrade_RohanForgedBladesForPeasants
	;End

 	;Behavior = ArmorUpgrade ModuleTag_ArmorUpgrade
	;	TriggeredBy = Upgrade_RohanHeavyArmorForPeasants
	;	ArmorSetFlag			= PLAYER_UPGRADE
	;End

	;; Don't remove this. It's required for newly spawned members
	;; It does not change the armor set, but it allows us to accept the Drafted Upgrade
 	;Behavior = ArmorUpgrade ModuleTag_ArmorUpgradeDrafted
	;	TriggeredBy = Upgrade_Drafted
	;	IgnoreArmorUpgrade = Yes ; does not trigger any armor sets
	;End

	Behavior = RepairSpecialPower ModuleTag_RepairSPecialPower
		SpecialPowerTemplate      = SpecialRepairStructure
	End		

	;-------------------------------------------------------------------------------
	;
	;	Sub objects upgrade.
	;
	;Behavior = SubObjectsUpgrade Armor_Upgrade
	;	TriggeredBy	= Upgrade_RohanHeavyArmorForPeasants
	;	ShowSubObjects	= HELMET
	;	HideSubObjects	= HAMMER
	;	UpgradeTexture	= RUPeasant01.tga 0 RUPeasant01_HA.tga
	;	UpgradeTexture	= RUPeasant01_Alt.tga 0 RUPeasant01_HA.tga
	;	UpgradeTexture	= RUPeasantWep.tga 0 RUPeasantWep_HA.tga
	;	UpgradeTexture	= RUPeasantWep_L.tga 0 RUPeasantWep_HA.tga
	;	RecolorHouse	= Yes
	;	ExcludeSubobjects = Forged_Blade
	;End
	
	;Behavior = SubObjectsUpgrade ForgedBlade_Upgrade
	;	TriggeredBy		= Upgrade_RohanForgedBladesForPeasants
	;	ShowSubObjects	= FORGED_BLADE SWORD			; Forged blade will give us a sword too, as we'll get a weapon upgrade.
	;	HideSubObjects	= HAMMER
	;End
	
	;Behavior = SubObjectsUpgrade Drafted_Upgrade
	;	TriggeredBy		= Upgrade_Drafted
	;	ShowSubObjects	= SWORD SHIELD
	;	HideSubObjects	= HAMMER
		;FXListUpgrade   = FX_Draft
		;Sound = INITIAL PeasantVoiceDraftUpgrade			;this doesn't work
	;End
	;-------------------------------------------------------------------------------


	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	
	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End

	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.
		FirstHeight = 24  ; Height of Bezier control points above highest intervening terrain
		SecondHeight = 24
		FirstPercentIndent = 30% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 70%
		TumbleRandomly = Yes

		CrushStyle = Yes ; I don't detonate, I just hit
		DieOnImpact = Yes
		BounceCount = 1   ; When I hit the ground, I'll arc again
		BounceDistance = 40 ; this far
		BounceFirstHeight = 16  ; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight = 16
		BounceFirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		BounceSecondPercentIndent = 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Behavior = HitReactionBehavior HitReactionBehaviorModuleTag
		HitReactionLifeTimer1 = 2333 ; level 1 (light  damage)  hit reaction animations in ms
		HitReactionLifeTimer2 = 2333 ; level 2 (medium damage)  hit reaction animations in ms
		HitReactionLifeTimer3 = 2333 ; level 3 (heavy  damage)  hit reaction animations in ms

		HitReactionThreshold1 = 5.0   ; level 1 (light  damage) threshold trigger
		HitReactionThreshold2 = 25.0  ; level 2 (medium damage) threshold trigger
		HitReactionThreshold3 = 50.0  ; level 3 (heavy  damage) threshold trigger

		FastHitsResetReaction = Yes    ;If set -- when hits occur faster than the reaction animations, it will reset the animation. (like getting riddled with machine gun bullets)
	End

	; Tie into LargeGroupAudio system
	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU
		Key = Human Unit Peasant Peasant_Male
	End

	Geometry = CYLINDER
	GeometryMajorRadius = 8.0
	GeometryMinorRadius = 8.0
	GeometryHeight = 19.2
	GeometryIsSmall = Yes

  Shadow = SHADOW_DECAL
  ShadowSizeX = 19;
  ShadowSizeY = 19;
  ShadowTexture = ShadowI;

End