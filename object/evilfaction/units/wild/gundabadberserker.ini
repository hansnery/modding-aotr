;------------------------------------------------------------------------------
Object WildGundabadBerserker

	;// *** ART Parameters ***

	;// This is required for garrisoned objects - please put in all objects.
  ButtonImage = UIMMGundabadWarrior
  SelectPortrait         = UPMMGundabadWarrior


Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
		  
		StaticModelLODMode = Yes
		
		;// specify options for static LODs
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		DefaultModelConditionState
			Model               = wuNgunorc_skn
			Skeleton            = IUUrukahi_SKL
		End

		ModelConditionState = WEAPONSET_TOGGLE_2		; This state is used in cinematics to get the old style armor
			Model               = wuNgunpike_skn
			Skeleton            = iupikeman_skl
		End

    		
	AnimationState						= PASSENGER WEAPONSET_TOGGLE_2
		Animation						= Grabbed
			AnimationName				= IUPikeman_FLLA
			AnimationMode				= LOOP
		End
	End
	
	AnimationState						= FREEFALL WEAPONSET_TOGGLE_2
		StateName						= STATE_Falling
		Animation						= Falling
			AnimationName				= IUPikeman_FLYD
			AnimationMode				= LOOP
			AnimationBlendTime			= 10
		End
	End
	
	
		
;------special pikeman porcupine formation animations-----------------------------------	
	
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_2
	 	Animation = ATKC
			AnimationName		= IUPikeman_ATKA
			AnimationMode		= LOOP
			UseWeaponTiming		= Yes	
		End
	End
	
	AnimationState = ALTERNATE_FORMATION FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE WEAPONSET_TOGGLE_2 ;TEMP
		Animation = ATKC
			AnimationName		= IUPikeman_ATKA
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes
		End
		StateName = PikeUp
	End
	
    AnimationState = ALTERNATE_FORMATION MOVING BACKING_UP WEAPONSET_TOGGLE_2
		Animation = Moving_Back
			AnimationName = IUPikeman_BAKA	
		    AnimationMode = LOOP
		End	
    End
	
	AnimationState = ALTERNATE_FORMATION MOVING WEAPONSET_TOGGLE_2
	 	Animation = ATKC
			AnimationName		= IUPikeman_RUNB
			AnimationMode		= LOOP
		End
	End
	
	    AnimationState = ALTERNATE_FORMATION STUNNED_FLAILING WEAPONSET_TOGGLE_2
 		Animation = Flying_1
			AnimationName = IUPikeman_FLYD
			AnimationMode = LOOP
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES2
    End
	
	
	AnimationState			= DYING BURNINGDEATH WEAPONSET_TOGGLE_2
		Animation
			AnimationName	= IUPikeman_DIEC
			AnimationMode	= ONCE
			AnimationBlendTime = 10
		End
	End

	AnimationState						= ALTERNATE_FORMATION DYING SPLATTED WEAPONSET_TOGGLE_2
 		Animation						= Splat
			AnimationName				= IUPikeman_LNDD
			AnimationMode				= ONCE
		End
    End

     AnimationState = ALTERNATE_FORMATION DYING AFLAME WEAPONSET_TOGGLE_2
		Animation = Flaming_Death
			AnimationName = IUPikeman_MFDA
		    AnimationMode = ONCE
		End
    End

    AnimationState =  ALTERNATE_FORMATION DYING  WEAPONSET_TOGGLE_2
		Animation = Dying_1
			AnimationName = IUPikeman_DIEC
			AnimationMode = ONCE
		End
    End
 
    ; --- stunned anims
    AnimationState = ALTERNATE_FORMATION STUNNED_STANDING_UP WEAPONSET_TOGGLE_2
 		Animation = Standing_Back_Up
			AnimationName = IUPikeman_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End


    AnimationState = ALTERNATE_FORMATION STUNNED WEAPONSET_TOGGLE_2
 		Animation = Splattered_On_Ground
			AnimationName = IUPikeman_LNDD
			AnimationMode = ONCE
		End
    End

	 AnimationState = ALTERNATE_FORMATION PORCUPINE WEAPONSET_TOGGLE_2
	 	Animation = ATKC
			AnimationName		= IUPikeman_IDLD
			AnimationMode		= LOOP
		End
		StateName = STATE_Planted
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev ~= "STATE_Planted"	and Prev ~= "Trans_Up_To_Down" then CurDrawableSetTransitionAnimState("Trans_Up_To_Down") return end
		EndScript
	End
    
	
	 AnimationState = ALTERNATE_FORMATION WEAPONSET_TOGGLE_2
	 	Animation = ATKC
			AnimationName		= IUPikeman_IDLD
			AnimationMode		= LOOP
		End
	End
 ;--------------------normal animations---------------------------   
    ; --- stunned anims --- ;
    
    AnimationState = STUNNED_FLAILING WEAPONSET_TOGGLE_2
		Animation = Flying_1
			AnimationName = IUPikeman_FLYD
			AnimationMode = LOOP
		End
		Flags							= MAINTAIN_FRAME_ACROSS_STATES2
    End
    
     AnimationState = DYING SPLATTED WEAPONSET_TOGGLE_2
 		Animation = Splat
			AnimationName = IUPikeman_LNDD
			AnimationMode = ONCE
		End
	End
    
    
	; --- death anims --- ;

     AnimationState = DYING AFLAME WEAPONSET_TOGGLE_2
		Animation = Flaming_Death
			AnimationName = IUPikeman_MFDA
		    AnimationMode = ONCE
		End
	End
    
    AnimationState = DYING EMOTION_ALERT WEAPONSET_TOGGLE_2
		Animation = Dying_2
			AnimationName = IUPikeman_DIEC
			AnimationMode = ONCE
		End
    End

    AnimationState = DYING WEAPONSET_TOGGLE_2
		Animation = Dying_2
			AnimationName = IUPikeman_DTHA
			AnimationMode = ONCE
		End
		Animation = Dying_2
			AnimationName = IUPikeman_DTHB
		    AnimationMode = ONCE
		End
	End

	AnimationState			= BURNINGDEATH WEAPONSET_TOGGLE_2
		Animation
			AnimationName	= IUPikeman_MFDA
			AnimationMode	= LOOP
			Distance		= 40
		End
	End

	AnimationState						= PARALYZED WEAPONSET_TOGGLE_2
		Animation
			AnimationName				= IUPikeman_IDLA
			AnimationMode				= LOOP
		End
	End

    AnimationState = STUNNED_STANDING_UP WEAPONSET_TOGGLE_2
		Animation = Standing_Back_Up
			AnimationName = IUPikeman_GTPA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
    End

    AnimationState						= STUNNED WEAPONSET_TOGGLE_2
		StateName						= STATE_Stunned
		Animation						= Splattered_On_Ground
			AnimationName				= IUPikeman_LNDD
			AnimationMode				= ONCE
		End
    End

	
	AnimationState  = COMING_OUT_OF_FACTORY WEAPONSET_TOGGLE_2
		Animation = Being_Built
			AnimationName		= IUPikeman_RUNB
			AnimationMode		= LOOP
			AnimationBlendTime	= 0
		End
	End	
	
	
	AnimationState = MOVING FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_2
		Animation = TrotAndFire
			AnimationName = IUPikeman_ATRA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		;ParticleSysBone = None InfantryDustTrails
    End
    	
		
    AnimationState = MOVING BACKING_UP WEAPONSET_TOGGLE_2
		Animation = Moving_Back
			AnimationName = IUPikeman_BAKA
		    AnimationMode = LOOP
		End	
    End
    
    AnimationState = MOVING EMOTION_AFRAID WEAPONSET_TOGGLE_2
		Animation = Moving_1
			AnimationName = IUPikeman_RUNB
		    AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
    End
    
    AnimationState = MOVING EMOTION_ALERT WEAPONSET_TOGGLE_2
		Animation = Moving_1
			AnimationName = IUPikeman_RUNB
		    AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
    End
    
    AnimationState = MOVING ATTACKING WEAPONSET_TOGGLE_2
		Animation = Moving_1
			AnimationName = IUPikeman_RUNB
		    AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
    End
    
    AnimationState = MOVING ENGAGED WEAPONSET_TOGGLE_2
		Animation = Moving_1 
			AnimationName = IUPikeman_RUNB
		    AnimationMode = LOOP
		End
		Flags = MAINTAIN_FRAME_ACROSS_STATES
		ParticleSysBone = None InfantryDustTrails
    End

    AnimationState = MOVING WEAPONSET_TOGGLE_2
		Animation = Moving_1
			AnimationName = IUPikeman_RUNA
		    AnimationMode = LOOP
		End
		ParticleSysBone = None InfantryDustTrails
    End
    

    ; --- Attacking --- ;

	AnimationState =  FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_2
	
	    Animation = Stabbing ;,;
            AnimationName        = IUPikeman_ATKA
            AnimationMode        = ONCE
            UseWeaponTiming        = Yes    
        End 
		
		Animation = KickSinceWeAreMelee
			AnimationName		= IUPikeman_ATKC
			AnimationMode		= ONCE
			UseWeaponTiming		= Yes	
		End
	End

	; --- emotions --- ;

    AnimationState							= WAR_CHANT WEAPONSET_TOGGLE_2
		Animation							= Chant
			AnimationName					= IUPikeman_IDLC
			AnimationMode					= LOOP
		End
	End			

	AnimationState							= EMOTION_AFRAID WEAPONSET_TOGGLE_2
		Animation							= FERA
			AnimationName					= IUPikeman_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End
	
	AnimationState							= EMOTION_CELEBRATING WEAPONSET_TOGGLE_2
		Animation							= CHRA
			AnimationName					= IUPikeman_CHRA
			AnimationMode					= ONCE
			AnimationBlendTime				= 10
		End
		Animation							= CHRB
			AnimationName					= IUPikeman_CHRB
			AnimationMode					= ONCE
			AnimationBlendTime				= 10
		End
		Animation							= TNTA
			AnimationName					= IUPikeman_TNTA
			AnimationMode					= ONCE
			AnimationBlendTime				= 10
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End
	
	AnimationState							= EMOTION_TAUNTING WEAPONSET_TOGGLE_2
		Animation							= TNTA
			AnimationName					= IUPikeman_TNTA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Animation							= TNTB
			AnimationName					= IUPikeman_TNTB
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Flags								= RANDOMSTART RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End
	
	AnimationState							= EMOTION_POINTING WEAPONSET_TOGGLE_2
		Animation							= Pointing1
			AnimationName					= IUPikeman_PNTA
			AnimationMode					= LOOP
		End
		Flags								= RANDOMSTART
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End

	AnimationState							= EMOTION_ALERT WEAPONSET_TOGGLE_2
		Animation							= ALERT
			AnimationName					= IUPikeman_IDLE
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES2
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End
		
	AnimationState							= ATTACKING WEAPONSET_TOGGLE_2
		Animation							= ALERT
			AnimationName					= IUPikeman_IDLE
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES2
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End
	
	AnimationState							= ENGAGED WEAPONSET_TOGGLE_2
		Animation							= ALERT
			AnimationName					= IUPikeman_IDLE
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE MAINTAIN_FRAME_ACROSS_STATES2
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		EndScript
	End
	
    AnimationState  = JUST_BUILT WEAPONSET_TOGGLE_2
      Animation = Being_Built
        AnimationName		= IUPikeman_BLDA
        AnimationMode		= ONCE
        AnimationBlendTime	= 0
      End
    End

	AnimationState		= RAISING_FLAG WEAPONSET_TOGGLE_2
		Animation
			AnimationName					= IUPikeman_CHRA
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Animation
			AnimationName					= IUPikeman_CHRB
			AnimationMode					= ONCE
			AnimationSpeedFactorRange		= 0.9 1.1
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
	End
		
	AnimationState = SELECTED WEAPONSET_TOGGLE_2
		Animation				= Selected_Loop
			AnimationName		= IUPikeman_IDLA
			AnimationMode		= LOOP
			AnimationBlendTime	= 10
		End
		StateName				= Selected
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end			
			if Prev == "Bored" then CurDrawableSetTransitionAnimState("TRANS_BS_Normal") end
		EndScript
		Flags = RESTART_ANIM_WHEN_COMPLETE
	End		
	
	AnimationState						= WEAPONSET_TOGGLE_2
		Animation = IDLA
			AnimationName		= IUPikeman_IDLA
			AnimationMode		= LOOP
			AnimationPriority	= 30
			AnimationBlendTime	= 15
		End
		Animation = IDLB
			AnimationName		= IUPikeman_IDLB
			AnimationMode		= LOOP
			AnimationPriority	= 10
			AnimationBlendTime	= 15
		End
		Animation = IDLC
			AnimationName		= IUPikeman_IDLC
			AnimationMode		= LOOP
			AnimationBlendTime	= 15
		End
		Flags = RANDOMSTART
		StateName = Bored
	BeginScript
		Prev = CurDrawablePrevAnimationState()
		if Prev == "STATE_Planted"	then CurDrawableSetTransitionAnimState("Trans_Down_To_Up") return end
		if Prev == "Selected" or Prev == "Trans_Down_To_Up" then CurDrawableSetTransitionAnimState("TRANS_SB_Normal") end
	EndScript
	End

		
//================== ANIMATIONS =================================================================
	IdleAnimationState
		Animation = IDLB
			AnimationName = IUUrukahi_IDLB
			AnimationMode = ONCE
			AnimationPriority = 20
		End
		Animation = IDLG
			AnimationName = IUUrukahi_IDLG
			AnimationMode = ONCE
			AnimationPriority = 1 ;2
		End
		Animation = IDLD
			AnimationName = IUUrukahi_IDLD
			AnimationMode = ONCE
			AnimationPriority = 2
		End	
		StateName = Idle
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "STATE_Selected" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBoard") end
		EndScript
	End


	AnimationState						= PASSENGER
		Animation						= Falling
			AnimationName				= IUUrukahi_FLLA
			AnimationMode				= LOOP
		End
	End
	
	AnimationState						= FREEFALL
		Animation						= FLYA
			AnimationName				= IUUrukahi_FLYA
			AnimationMode				= LOOP
			AnimationSpeedFactorRange	= 0.5	0.5
			AnimationBlendTime			= 5
		End
	End
	
	AnimationState			= STUNNED_FLAILING
		Animation           = StunFlail
			AnimationName   = IUUrukahi_FLYA
			AnimationMode   = LOOP
			AnimationSpeedFactorRange	= 0.4 0.6
		End
		Flags						= MAINTAIN_FRAME_ACROSS_STATES2
	End
	
	AnimationState = DYING DEATH_2
		Animation = Splatted_On_Ground
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
    End

	AnimationState			= DYING BURNINGDEATH
		Animation
			AnimationName	= IUUrukahi_DIEA
			AnimationMode	= ONCE
			AnimationBlendTime = 10
		End
		Animation
			AnimationName	= IUUrukahi_DIEB
			AnimationMode	= ONCE
			AnimationBlendTime = 20
		End
		Animation
			AnimationName	= IUUrukahi_DIEC
			AnimationMode	= ONCE
			AnimationBlendTime = 20
		End
		Animation
			AnimationName	= IUUrukahi_DIEG
			AnimationMode	= ONCE
			AnimationBlendTime = 20
		End
	End

	AnimationState			= DYING SPLATTED
		Animation			= Splat
			AnimationName	= IUUrukahi_LNDA
			AnimationMode	= ONCE
		End
	End

    AnimationState = DYING
		Animation = DIEA
			AnimationName = IUUrukahi_DIEA
		    AnimationMode = ONCE
			AnimationPriority = 1
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEB
			AnimationName = IUUrukahi_DIEB
		    AnimationMode = ONCE
			AnimationPriority = 3
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEC
			AnimationName = IUUrukahi_DIEC
		    AnimationMode = ONCE
			AnimationPriority = 2
			AnimationSpeedFactorRange	=	0.8 1.25
		End
		Animation = DIEG
			AnimationName = IUUrukahi_DIEG
		    AnimationMode = ONCE
			AnimationPriority = 10
			AnimationSpeedFactorRange	=	0.8 1.25
		End
    End    

	AnimationState			= BURNINGDEATH
		Animation
			AnimationName	= IUUrukahi_MFDA
			AnimationMode	= LOOP
			Distance		= 50
		End
	End

	AnimationState						= PARALYZED
		Animation
			AnimationName				= IUUrukahi_IDLA
			AnimationMode				= LOOP
		End
	End


	AnimationState        = STUNNED
		Animation           = LNDA
			AnimationName     = IUUrukahi_LNDA
			AnimationMode     = ONCE
		End
	End

	AnimationState        = STUNNED_STANDING_UP
		Animation           = GTPA
			AnimationName     = IUUrukahi_GTPA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 1.5 1.5
		End
	End	
		
	AnimationState        = THROWN_PROJECTILE
		Animation           = FLYA
			AnimationName     = IUUrukahi_FLYA
			AnimationMode     = LOOP
		End
	End
	
	;----------------------------------------------------
	;Manning battering ram - Left and right handed attack
	;----------------------------------------------------
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	
	AnimationState = FIRING_OR_PREATTACK_A PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

	AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_B PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

	AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_1 ; attacking with battering ram
		Animation = grasping_siege_lefthanded
			AnimationName =  IUUrukahi_BATB
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End
	AnimationState = FIRING_OR_PREATTACK_C PASSENGER PASSENGER_VARIATION_2 ; attacking with battering ram
		Animation = grasping_siege_righthanded
			AnimationName = IUUrukahi_BATA
			AnimationMode = ONCE
;			UseWeaponTiming = Yes
		End
	End

    AnimationState = MOVING FIRING_OR_PREATTACK_A
		Animation = TrotAndFire
			AnimationName = IUUrukahi_ATRA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		;ParticleSysBone = None InfantryDustTrails
    End
    
	;----------------------------------------------------
	;Manning battering ram - Left and right movement
	;----------------------------------------------------
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING BACKING_UP PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP_BACKWARDS
		End
	End
	AnimationState = MOVING TURN_LEFT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
		End
	End

	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
		End
	End
	AnimationState = MOVING TURN_RIGHT PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP_BACKWARDS
		End
	End

	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_1 ; running with battering ram
		Animation = moving_siege_lefthanded
			AnimationName =  IUUrukahi_BRNB
			AnimationMode = LOOP
			AnimationSpeedFactorRange	=	0.7 0.7
		End
	End
	AnimationState = MOVING PASSENGER PASSENGER_VARIATION_2 ; running with battering ram
		Animation = moving_siege_righthanded
			AnimationName = IUUrukahi_BRNA
			AnimationMode = LOOP
			AnimationSpeedFactorRange	=	0.7 0.7
		End
	End
	
	; ladder climbing animations
	AnimationState = MOVING CLIMBING BACKING_UP
		Animation = Climbing_Down
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP_BACKWARDS
			AnimationSpeedFactorRange = 2.0 2.0
		End
    End

    AnimationState = MOVING CLIMBING
		Animation = Climbing_Up
			AnimationName = IUUrukahi_CLMA
			AnimationMode = LOOP
			AnimationSpeedFactorRange = 2.0 2.0
		End
    End

	AnimationState = MOVING EMOTION_TERROR
		Animation = TERRORIZED
			AnimationName = IUUrukahi_RUNC
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
	End
     
    AnimationState = MOVING BACKING_UP
		Animation = BackingUp
			AnimationName = IUUrukahi_BAKA
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
	End

;    AnimationState = MOVING DAMAGED
;		Animation = Moving
;			AnimationName = IUUrukahi_WLK
;		    AnimationMode = LOOP
;		End
;		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
;    End

    AnimationState = MOVING ALTERNATE_FORMATION
		Animation = Moving
			AnimationName = IUUrukahi_SPCA
		    AnimationMode = LOOP
		    Distance		= 25
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End
    AnimationState = MOVING
		Animation = Moving
			AnimationName = IUUrukahi_RUNA
		    AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		ParticleSysBone = None InfantryDustTrails
    End

		; --------- Click and Hit Reactions ------------
;		AnimationState = HIT_REACTION HIT_LEVEL_1
;			Animation = Hit_Level_1_a
;				AnimationName = IUUrukahi_HITC
;				AnimationMode = ONCE
;			End
;			Animation = Hit_Level_1_a
;				AnimationName = IUUrukahi_HITE
;				AnimationMode = ONCE
;			End
;		End
		
;		AnimationState = HIT_REACTION HIT_LEVEL_2
;			Animation = Hit_Level_1_a
;				AnimationName = IUUrukahi_HITD
;				AnimationMode = ONCE
;			End
;		End
		
    AnimationState = FIRING_OR_PREATTACK_A
		Animation = ATKA
			AnimationName = IUUrukahi_ATKA
			AnimationMode = ONCE
		End
		Animation = ATKC
			AnimationName = IUUrukahi_ATKC
			AnimationMode = ONCE
			AnimationSpeedFactorRange	=	0.7 0.7
		End
		Animation = ATKB
			AnimationName = IUUrukahi_ATKB
			AnimationMode = ONCE
		End
    End

   
    AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = IUUrukahi_TNTA
			AnimationMode = LOOP
		End
	End
    
    AnimationState							= EMOTION_UNCONTROLLABLY_AFRAID
		Animation							= FERA
			AnimationName					= IUUrukahi_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
    End
    
   ;-emotions--
	; Should be before selected (if uncontrollable..)      
    AnimationState							= EMOTION_AFRAID
		Animation							= FERA
			AnimationName					= IUUrukahi_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
    End
    
    AnimationState = BETWEEN_FIRING_SHOTS_A
		Animation = Wait
			AnimationName = IUUrukahi_IDLA
			AnimationMode = ONCE
		End
	End

     AnimationState = ATTACKING
		Animation = IdleAllAttacksComeFrom
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
	End

	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= IUUrukahi_TNTA
			AnimationMode					= LOOP
			AnimationBlendTime				= 10
			AnimationSpeedFactorRange		= 0.8 1.2
		End
		Flags								= RANDOMSTART
	End
	
	AnimationState							= EMOTION_POINTING
		Animation							= Pointing1
			AnimationName					= IUUrukahi_PNTA
			AnimationMode					= LOOP
		End
		Flags								= RANDOMSTART
	End
	
	AnimationState							= EMOTION_CELEBRATING
		Animation							= CHRA
			AnimationName					= IUUrukahi_CHRA
			AnimationMode					= ONCE
			AnimationBlendTime				= 10
		End
		Animation							= CHRB
			AnimationName					= IUUrukahi_CHRB
			AnimationMode					= ONCE
			AnimationBlendTime				= 10
		End
		Animation							= TNTA
			AnimationName					= IUUrukahi_TNTA
			AnimationMode					= ONCE
			AnimationBlendTime				= 10
		End
		Flags				= RESTART_ANIM_WHEN_COMPLETE
	End
	
	AnimationState							= EMOTION_ALERT
		Animation							= ALERT
			AnimationName					= IUUrukahi_IDLA
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
	End


	AnimationState		= RAISING_FLAG
		Animation
			AnimationName = IUUrukahi_CHRA
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Animation
			AnimationName = IUUrukahi_CHRB
			AnimationMode = ONCE
			AnimationSpeedFactorRange = 0.9 1.1
		End
		Flags = RESTART_ANIM_WHEN_COMPLETE
	End

	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = LOOP
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_IdleToSelected") end
		EndScript
	End

	TransitionState       = TRANS_IdleToSelected
		Animation           = ATNA
			AnimationName     = IUUrukahi_ATNA
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End

	TransitionState       = TRANS_SelectedToGuard
		Animation           = ATNB
			AnimationName     = IUUrukahi_ATNB
			AnimationMode     = ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
		
	TransitionState		= TRANS_SelectedToBoard
		Animation			= ATNC
			AnimationName	= IUUrukahi_ATNC
			AnimationMode	= ONCE
			AnimationSpeedFactorRange = 0.9 1.0
		End
	End
  	
	;----------------------------------------------------
	;Manning battering ram - Left and right idle
	;----------------------------------------------------
	AnimationState = PASSENGER PASSENGER_VARIATION_1 ; idle with battering ram
		Animation = idle_siege_lefthanded
			AnimationName =  IUUrukahi_BIDB
			AnimationMode = LOOP
		End
	End
	AnimationState = PASSENGER PASSENGER_VARIATION_2 ; idle with battering ram
		Animation = idle_siege_righthanded
			AnimationName = IUUrukahi_BIDA
			AnimationMode = LOOP
		End
	End
	
	AnimationState WEAPONSET_PLAYER_UPGRADE
		Animation = IDLA
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
		End
		StateName	= Idle
		Flags		= RANDOMSTART
	End
	
    AnimationState = ALTERNATE_FORMATION
		Animation = IDLB
			AnimationName = IUUrukahi_IDLA
			AnimationMode = LOOP
			AnimationPriority = 20
		End
    End

;    AnimationState  = JUST_BUILT
;      Animation = Being_Built
;        AnimationName     = IUUrukahi_BLDA
;        AnimationMode =ONCE
;        AnimationBlendTime = 0
;      End
;    End	
    
  End
  

    #include "..\..\..\includes\StunDrawModuleLarge.inc"

; ***DESIGN parameters ***

	Side			= Wild
	EditorSorting		= UNIT
	ThreatLevel		= 1.0
	ThingClass		= HORDE_UNIT
	CommandPoints		= 6 ;;,;; 10 ;;.;; 11			
	TransportSlotCount	= TRANSPORTSLOTCOUNT_UNIT
	Scale = 1.13
	WeaponSet
		Conditions 	= None 
		Weapon 		= PRIMARY GundabadBeserkerSword ;;.;; AngmarSword ;BALANCE Wild Marauder Weapon
	End
	WeaponSet
		Conditions 	= WEAPONSET_TOGGLE_2 
		Weapon 		= PRIMARY GundabadBeserkerSpear ;;.;; AngmarSword ;BALANCE Wild Marauder Weapon
	End
	
;;.;;	WeaponSet	;;.;; This is now done in the weapon
;;.;;		Conditions		= PLAYER_UPGRADE
;;.;;		Weapon			= PRIMARY	MarauderSwordUpgraded ;;.;; AngmarSwordUpgraded
;;.;;		AutoChooseSources	= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
;;.;;	End

	ArmorSet
		Conditions      = None
		Armor           = GundabadBerserkerHeavyArmor ;MarauderSwordArmor
		DamageFX        = NormalDamageFX
	End
	; ArmorSet
		; Conditions      = PLAYER_UPGRADE
		; Armor           = MarauderSwordHeavyArmor
		; DamageFX        = NormalDamageFX	
	; End

  	; This is required so that the build phase lasts as long as the anim.
	BuildFadeInOnCreateTime	= 0 ; 2.0 ;temporarily set to 0

  	ShroudClearingRange 	= WILD_MARAUDERSWORDS_SHROUD_RANGE
  	VisionRange 		= WILD_MARAUDERSWORDS_VISION_RANGE
	
	VisionSide = 35%
	VisionRear = 25%
	
	MaxVisionBonusPercent = 300%
	VisionBonusTestRadius = 200
	VisionBonusPercentPerFoot = 2.0%


  	BountyValue		= 16  ;WILD_MARAUDERSWORDS_BOUNTY_VALUE
  	DisplayName		= OBJECT:GundabadBerserker
	CrushableLevel		= 0 ;;.;; 1  					; What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
	CrusherLevel				= 1 
	CrushWeapon					= GuardianCrush  
	
	CrushOnlyWhileCharging		= yes	;// the guardian is only supposed to crush during his special charge ability
	
	MinCrushVelocityPercent 	= 50%	;// Has to be moving at least xx% of full speed
	CrushDecelerationPercent	= 30%	;// Lose xx% max velocity when crushing -- thus they only crush 1 row of infantry
	CrushKnockback				= 40	;// how hard we knock back crushed units.
	CrushZFactor				= 1.0	;// How much we knock upwards.
	
	CrushRevengeWeapon			= BasicInfantryCrushRevenge
	

	CommandSet		= WildMarauderSwordsCommandSet
 
	; *** AUDIO Parameters ***;

	VoiceAttack				= HalfTrollSwordVoiceAttack
	VoiceAttackCharge			= HalfTrollSwordVoiceAttackCharge
	VoiceAttackMachine			= HalfTrollSwordVoiceAttack
	VoiceAttackStructure			= HalfTrollSwordVoiceAttackBuilding
	VoiceCreated							= EVA:Half-TrollsCreated
	VoiceFullyCreated						= EVA:Half-TrollsCreated
;	VoiceCreated				= HalfTrollSwordVoiceSalute
;	VoiceFullyCreated			= HalfTrollSwordVoiceSalute
	VoiceGuard				= HalfTrollSwordVoiceMove
	VoiceMove				= HalfTrollSwordVoiceMove
	VoiceMoveToCamp				= HalfTrollSwordVoiceMoveCamp
	VoiceMoveWhileAttacking			= HalfTrollSwordVoiceDisengage
	VoicePriority				= 61
	VoiceRetreatToCastle			= HalfTrollSwordVoiceRetreat
	VoiceSelect				= HalfTrollSwordVoiceSelect
	VoiceSelectBattle 			= HalfTrollSwordVoiceSelectBattle

	VoiceEnterStateAttack			= HalfTrollSwordVoiceAttack
	VoiceEnterStateAttackCharge		= HalfTrollSwordVoiceAttackCharge
	VoiceEnterStateAttackMachine		= HalfTrollSwordVoiceAttack
	VoiceEnterStateAttackStructure		= HalfTrollSwordVoiceAttackBuilding
	VoiceEnterStateMove			= HalfTrollSwordVoiceMove
	VoiceEnterStateMoveToCamp		= HalfTrollSwordVoiceMoveCamp
	VoiceEnterStateMoveWhileAttacking	= HalfTrollSwordVoiceDisengage
	VoiceEnterStateRetreatToCastle		= HalfTrollSwordVoiceRetreat

	SoundImpact				= ImpactHorse

	UnitSpecificSounds
		VoiceEnterUnitEvilMenTransportShip	= HalfTrollSwordVoiceMoveShip
		VoiceEnterUnitMordorMumakil		= HalfTrollSwordVoiceMoveGarr
		VoiceEnterUnitSlaughterHouse		= HalfTrollSwordVoiceMoveGarr
		VoiceGarrison				= HalfTrollSwordVoiceMoveGarr
		VoiceInitiateCaptureBuilding		= HalfTrollSwordVoiceCaptureBuilding
	End

	CrowdResponseKey = Uruk

	ClientBehavior = AnimationSoundClientBehavior ModuleTag_AnimAudioBehavior
		MaxUpdateRangeCap = 800
		AnimationSound = Sound:BodyFallOrc			Animation:CHSS_UK_U_DIEA	Frames:18
		AnimationSound = Sound:BodyFallOrc			Animation:CHSS_UK_U_DIEB	Frames:30
		AnimationSound = Sound:BodyFallOrc			Animation:CHSS_UK_U_DIEC	Frames:28
		AnimationSound = Sound:BodyFallGeneric2		Animation:CHSS_UK_U_DIEG	Frames:115
		AnimationSound = Sound:BodyFallOrc			Animation:CHSS_UK_U_LNDA	Frames:2
		AnimationSound = Sound:BodyFallGeneric2		Animation:CHSS_UK_U_LNDA	Frames:37
	End

	ClientBehavior = ModelConditionAudioLoopClientBehavior ModuleTag_foo
		ModelCondition = Required:EMOTION_CELEBRATING	Excluded:DYING ENGAGED	Sound:EmotionMarauderCompilationVoxCheerSinglesLoop	;MOVING ATTACKING 
		ModelCondition = Required:EMOTION_TAUNTING		Excluded:DYING ENGAGED	Sound:EmotionMarauderCompilationVoxTauntSinglesLoop	;MOVING ATTACKING
		ModelCondition = Required:RAISING_FLAG			Excluded:DYING ENGAGED	Sound:EmotionMarauderCompilationVoxTauntSinglesLoop
	End

    #include "..\..\..\includes\StandardUnitEvaEvents.inc"
	;EvaEventDieOwner					= GroupPikemanDie		;Eva event to trigger on unit's death. NOTICE THAT this is only for permanent deaths
										;For deaths you can respawn from, use the DeathFX

	Behavior = LargeGroupAudioUpdate ModuleTag_LGAU				;Tie into LargeGroupAudio system
		Key = Marauder
	End


	; *** ENGINEERING Parameters ***

	RadarPriority	= UNIT
	KindOf		= PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT GRAB_AND_DROP ATTACK_NEEDS_LINE_OF_SIGHT TROLL

	Body	= ActiveBody ModuleTag_02 ;;,;;					= PorcupineFormationBodyModule ModuleTag_porcupineFormation
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth			= 700 ;WILD_MARAUDERSWORDS_HEALTH ; 460 ;WILD_MARAUDERSWORDS_HEALTH				;BALANCE Isengard Pikeman Health
		MaxHealthDamaged		= WILD_MARAUDERSWORDS_HEALTH_DAMAGED		
		RecoveryTime			= WILD_MARAUDER_HEALTH_RECOVERY_TIME	
		BurningDeathBehavior 		= Yes
		BurningDeathFX       		= FX_InfantryBurningFlame
	End

  	; ;Heavy Armor
	; Behavior = ArmorUpgrade ArmorUpgradeModuleTag
		; TriggeredBy		= Upgrade_WildHeavyArmor
		; ArmorSetFlag		= PLAYER_UPGRADE
	; End

	; Behavior = SubObjectsUpgrade Armor_Upgrade
		; TriggeredBy			= Upgrade_WildHeavyArmor
		; RecolorHouse		= Yes
		; ExcludeSubobjects	= Forged_Blade
	; End

	; Behavior = ModelConditionUpgrade ModuleTag_Knight
		; TriggeredBy			= Upgrade_WildHeavyArmor
		; AddConditionFlags	= RIDER2
		; Permanent			= Yes
	; End
	Behavior = SubObjectsUpgrade ForgedBlades_Upgrade
		TriggeredBy		= Upgrade_WildForgedBlades
		ShowSubObjects		= Forged_Blade FORGED_BLADE01
	End
	
	Behavior = StatusBitsUpgrade ForgedBlades_UpgradeDetection
		TriggeredBy		= Upgrade_WildForgedBlades
	End
	
	;Wambly - Updated AI Preferences
	
	Behavior = AIUpdateInterface ModuleTag_03
		;AutoAcquireEnemiesWhenIdle 		= Yes ATTACK_BUILDINGS
		AutoAcquireEnemiesWhenIdle 		= Yes 
		AILuaEventsList			   	= DolGuldurOrcFunctions 
		MoodAttackCheckRate        		= 500
		HoldGroundCloseRangeDistance		= 80
		AttackPriority				= AttackPriority_INFANTRY ;AttackPriority_Spearman
		BurningDeathTime			= BURNINGDEATH_DURATION_INFANTRY
	End

;	LocomotorSet
;		Locomotor = HumanSpecialChargeLocomotor
;		Condition = SET_NORMAL 
;		Speed     = NORMAL_MOUNTED_MED_MEMBER_SPEED
;	End

	LocomotorSet
		Locomotor = HumanSpecialChargeLocomotor
		Condition = SET_NORMAL 
		Speed     = NORMAL_FOOT_MED_MEMBER_SPEED ;;,;; NORMAL_FOOT_FAST_MEMBER_SPEED
	End

;	LocomotorSet
;		Locomotor     = HumanLocomotor
;		Condition     = SET_NORMAL
;		Speed         = NORMAL_FOOT_FAST_MEMBER_SPEED		
;	End


	LocomotorSet
		Locomotor = BurningDeathLocomotorInfantry
		Condition = SET_BURNINGDEATH
		Speed	  = 75
	End

	Behavior = PhysicsBehavior ModuleTag_04
		GravityMult			= 1.0
		ShockStunnedTimeLow		= 1400  ;msec
		ShockStunnedTimeHigh		= 2400 ;msec
		ShockStandingTime		= 2133 ;msec
	End
		  
	; Doesn't work.  We are a melee horde now.  So we are just gonna have one weapon
	;  Behavior = AimWeaponBehavior AimWeaponModuleTag
	;		AimHighThreshold =  0.15
	;	End
	 
	;//--- NEW  CHARGE ABILITY ---
;	Behavior 			= UnpauseSpecialPowerUpgrade ModuleTag_ChargeUnpause
;		SpecialPowerTemplate    = SpecialAbilityAngmarCharge
;		TriggeredBy		= Upgrade_ObjectLevel2
;	End
	
  	Behavior = SpecialPowerModule ModuleTag_ChargeStarter                      
		SpecialPowerTemplate     	= SpecialAbilityAngmarCharge
		UpdateModuleStartsAttack  	= Yes
;		StartsPaused			= Yes
		InitiateSound			= MarauderVoiceEnterStateAttackCharge
	End
	#include "..\..\..\includes\AngmarChargeUpdate.inc"

	Behavior = SlowDeathBehavior ModuleTag_05
		DeathTypes			= ALL -KNOCKBACK
		SinkDelay			= 3000
		SinkRate			= 4.0     ; in Dist/Sec
		DestructionDelay		= 8000
		Sound				= INITIAL OrcVoiceDie ;HalfTrollSwordVoxDieMS ;,; MarauderVoxDieMS
	End
	 
	Behavior = SquishCollide ModuleTag_06
		;nothing
	End
	 
	Behavior = SlowDeathBehavior ModuleTag_07
		; Same as normal death, but no sound (sound already played by SoundImpact = ... )
		DeathTypes			= NONE +KNOCKBACK
		SinkDelay			= 3000
		SinkRate			= 0.40     ; in Dist/Sec
		DestructionDelay		= 8000
		Sound				= INITIAL OrcVoiceDie ;MarauderVoxDieMS
	End
	 
	Behavior = BezierProjectileBehavior ModuleTag_08 ; Module starts asleep, and wakes up when thrown.		 
		FirstHeight			= 24  	; Height of Bezier control points above highest intervening terrain
		SecondHeight			= 24
		FirstPercentIndent		= 30% 	; Percentage of shot distance control points are placed
		SecondPercentIndent 		= 70%
		TumbleRandomly			= Yes

		CrushStyle			= Yes 	; I don't detonate, I just hit
		DieOnImpact			= Yes
		BounceCount			= 1   	; When I hit the ground, I'll arc again
		BounceDistance			= 40  	; this far
		BounceFirstHeight		= 24  	; Height of Bezier control points above highest intervening terrain
		BounceSecondHeight		= 24
		BounceFirstPercentIndent	= 20% 	; Percentage of shot distance control points are placed
		BounceSecondPercentIndent	= 80%

		GroundHitFX       = FX_ThrownRockGroundHit
		GroundBounceFX    = FX_ThrownRockBounceHit
	End

	Behavior = HordeMemberCollide ModuleTag_HMC
		;nothing
	End
	 
	;Doesn't work.  We are a melee horde now.  So we are just gonna have one weapon
	;Behavior = DualWeaponBehavior ModuleTag_09
	;	SwitchWeaponOnCloseRangeDistance = 40
	;End

	Geometry		= CYLINDER
	GeometryMajorRadius 	= 8.0
	GeometryMinorRadius 	= 8.0
	GeometryHeight		= 19.2
	GeometryIsSmall		= Yes

	Shadow			= SHADOW_DECAL
	ShadowSizeX		= 21;
	ShadowSizeY		= 21;
	ShadowTexture		= ShadowI;
End


ChildObject WildGundabadBerserkerBanner WildGundabadBerserker
Draw = W3DHordeModelDraw ModuleTag_01
		OkToChangeModelColor = Yes
		  
		StaticModelLODMode = Yes
		
		;// specify options for static LODs
		LodOptions	= LOW
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_LOW
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_LOW
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_LOW
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_LOW
		End
		
		LodOptions	= MEDIUM
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_MED
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_MED
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_MED
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_MED
		End
		
		LodOptions	= HIGH
			AllowMultipleModels		=	ALLOW_MULTIPLE_MODELS_HIGH
			MaxRandomTextures		=	MAX_RANDOM_TEXTURES_HIGH
			MaxRandomAnimations		=	MAX_RANDOM_ANIMATIONS_HIGH
			MaxAnimFrameDelta		=	MAX_ANIM_FRAME_DELTA_HIGH
		End
		
		; morph for regular banner. Probably won't use. ( see BannerCarrierUpdate below for reference )
    DefaultModelConditionState
      Model = wuNgunorc_bnr
      Skeleton = IUBanner_SKL
    End

										
		; these lines allow the adornment hide/show to work correctly
		; for reasons currently unknown to most
		ExtraPublicBone = Glow
		ExtraPublicBone = Adornment
		ExtraPublicBone = Streamers
		
		IdleAnimationState
			Animation = IDLD
				AnimationName = IUBanner_IDLD
				AnimationMode = ONCE
				AnimationPriority = 5
				AnimationBlendTime  = 15
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE
			StateName = Idle
		    BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "CloseRange"	then CurDrawableSetTransitionAnimState("Trans_Sword_To_Idle") return end
				if Prev == "STATE_Selected"	then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") return end
			EndScript
		End
		
		AnimationState							= PASSENGER
			Animation							= Grabbed
				AnimationName					= IUBanner_FLLA
				AnimationMode					= LOOP
			End
		End
		
		AnimationState							= FREEFALL
			Animation							= Falling
				AnimationName					= IUBanner_FLYB
				AnimationMode					= LOOP
				AnimationBlendTime				= 10
			End
		End
		
		AnimationState 							= STUNNED_FLAILING
 			Animation 							= Flying
				AnimationName 					= IUBanner_FLYB
	      			AnimationMode 					= LOOP
			End
   			Flags = RANDOMSTART
  		End
    		
		AnimationState			= DYING BURNINGDEATH
			Animation
				AnimationName	= IUBanner_DIEA
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= IUBanner_DIEB
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= IUBanner_DIEC
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
			Animation
				AnimationName	= IUBanner_DIED
				AnimationMode	= ONCE
				AnimationBlendTime = 10
			End
		End

   		AnimationState							= DYING SPLATTED
 			Animation						= Splattered_On_Ground_1
				AnimationName					= IUBanner_LNDA
				AnimationMode					= ONCE
			End
   		End
		
     AnimationState = DYING AFLAME
			Animation = Flaming_Death
	      AnimationName = MUHarOvr_MFDA
		    AnimationMode = ONCE
			End
    End
    
    AnimationState = DYING WEAPONSTATE_CLOSE_RANGE
			Animation = Dying_1
	      AnimationName = IUBanner_DIEC
		    AnimationMode = ONCE
			End
			Animation = Dying_2
	      AnimationName = IUBanner_DIED
		    AnimationMode = ONCE
			End
    End

    AnimationState = DYING
			Animation = Dying_1
	      AnimationName = IUBanner_DIEA
		    AnimationMode = ONCE
			End
			Animation = Dying_2
	      AnimationName = IUBanner_DIEB
		    AnimationMode = ONCE
			End
    End
 
		AnimationState			= BURNINGDEATH
			Animation
				AnimationName	= IUBanner_MFDA
				AnimationMode	= LOOP
				Distance		= 40
			End
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= IUBanner_IDLD
				AnimationMode				= LOOP
			End
		End


	AnimationState  = COMING_OUT_OF_FACTORY
		Animation = Being_Built
			AnimationName		= IUBanner_RUNB
			AnimationMode		= LOOP
			AnimationBlendTime	= 0
		End
	End	
	
	
	
	AnimationState = MOVING FIRING_OR_PREATTACK_A
		Animation = TrotAndFire
			AnimationName = IUBanner_RUNB		; IUBanner_ATRA does not exist...
			AnimationMode = LOOP
		End
		Flags = RANDOMSTART
		;ParticleSysBone = None InfantryDustTrails
    End
	
		
	AnimationState = MOVING BACKING_UP
		Animation				= BackingUp
			AnimationName		= IUBanner_BAKA
			AnimationMode		= LOOP
			AnimationSpeedFactorRange 1.5 1.5
		End
		Flags = RANDOMSTART
	End
	
	AnimationState = MOVING EMOTION_TERROR
		Animation = Moving
			AnimationName = IUBanner_RUNA
		    AnimationMode = LOOP
		End
		StateName = Moving
		Flags = RANDOMSTART
;		ParticleSysBone = None InfantryDustTrails
    End
		
	AnimationState				=	MOVING DAMAGED
		Flags					=	RANDOMSTART
		Animation				=	IWKA
			AnimationName		=	IUBanner_IWKA
			AnimationMode		=	LOOP
		End
	End
 
    AnimationState = MOVING
			Animation = Moving
	      AnimationName = IUBanner_RUNA
		    AnimationMode = LOOP
			End
			StateName = Moving
			Flags = RANDOMSTART
;			ParticleSysBone = None InfantryDustTrails
    End



    ; --- stunned anims
	AnimationState = STUNNED_STANDING_UP
 			Animation = Standing_Back_Up
				AnimationName = IUBanner_GTPA
	      AnimationMode = ONCE
	      AnimationSpeedFactorRange = 1.5 1.5
			End
    End

    AnimationState = STUNNED
 			Animation = Splattered_On_Ground_1
				AnimationName = IUBanner_LNDA
	      AnimationMode = ONCE
			End
; 			Animation = Splattered_On_Ground_2
;				AnimationName = IUBanner_LNDB			This anim does not exist.
;	      AnimationMode = ONCE
;			End
    End

    

    TransitionState = Trans_Idle_To_Sword
			Animation = Transition
	      AnimationName = IUBanner_STHA
		    AnimationMode = ONCE
			End
    End

    TransitionState = Trans_Moving_To_Sword
			Animation = Transition
			  AnimationName = IUBanner_STHC
				AnimationMode = ONCE
			End
    End

    TransitionState = Trans_Sword_To_Idle
		Animation = Transition
			AnimationName = IUBanner_STHB
		    AnimationMode = ONCE
		End
    End
    
    

; --------- With Sword ------------

	AnimationState = FIRING_OR_PREATTACK_A WEAPONSTATE_CLOSE_RANGE
		Animation = ATKA1
			AnimationName = IUBanner_ATKA
			AnimationMode = ONCE
			UseWeaponTiming		= Yes
		End
		StateName = CloseRange
	End

    AnimationState = WAR_CHANT
		Animation = Chant
			AnimationName = IUBanner_IDLC
			AnimationMode = LOOP
		End
	End
	
	
			
	;-emotions--
	AnimationState							= EMOTION_AFRAID
		Animation							= FERA
			AnimationName					= IUBanner_FERA
			AnimationMode					= LOOP
		End
		Flags = RANDOMSTART
	End
	AnimationState							= EMOTION_TAUNTING
		Animation							= TNTA
			AnimationName					= IUBanner_IDLC
			AnimationMode					= LOOP
		End
	End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;  Just let the rest of his horde point.
;	AnimationState							= EMOTION_POINTING
;		Animation							= Pointing1
;			AnimationName					= IUBanner_PNTA
;			AnimationMode					= LOOP
;		End
;	End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
	AnimationState							= EMOTION_CELEBRATING
		Animation                           = CHRA
			AnimationName					= IUBanner_CHRA
			AnimationMode					= LOOP
		End
	End
	
	AnimationState							= EMOTION_ALERT
		Animation							= ALERT
			AnimationName					= IUBanner_IDLB
			AnimationMode					= LOOP
		End
		Flags								= RESTART_ANIM_WHEN_COMPLETE RANDOMSTART
	End

    AnimationState = WEAPONSTATE_CLOSE_RANGE
 		Animation = Close_Range_Idle
				AnimationName = IUBanner_IDLB
				AnimationMode = ONCE
		End
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Moving" then CurDrawableSetTransitionAnimState("Trans_Moving_To_Sword") return end
			if Prev == "Idle"   then CurDrawableSetTransitionAnimState("Trans_Idle_To_Sword") return end
		EndScript
		StateName = CloseRange
    End
   
	AnimationState							= RAISING_FLAG
		Animation                           = CHRA
			AnimationName					= IUBanner_CHRA
			AnimationMode					= LOOP
		End
	End

   	AnimationState        = SELECTED
		StateName           = STATE_Selected
		Animation = IDLA
			AnimationName = IUBanner_IDLA
			AnimationMode = LOOP
		End
		;Animation = IDLC
		;	AnimationName = IUBanner_IDLC
		;	AnimationMode = ONCE
		;End
		;Flags               = RESTART_ANIM_WHEN_COMPLETE
		BeginScript
			Prev = CurDrawablePrevAnimationState()
			if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_To_Selected") end
			if Prev == "CloseRange"	then CurDrawableSetTransitionAnimState("Trans_Sword_To_Idle") return end
		EndScript
	End
	
	
	
	TransitionState					=	TRANS_Idle_to_Selected
		Animation					=	ATNA
			AnimationName			=	IUBanner_ATNA
			AnimationMode			=	ONCE
		End
	End
	
	TransitionState					=	TRANS_Selected_to_Idle
		Animation					=	ATNB
			AnimationName			=	IUBanner_ATNB
			AnimationMode			=	ONCE
		End
	End
	
  End
	CommandPoints		= 0
  	VoicePriority					= 44
	KindOf = +BANNER
	;/////////////////////////////////////////////////////////
	;// BannerCarrierUpdate module
	;/////////////////////////////////////////////////////////
	Behavior = BannerCarrierUpdate BannerCarrierUpdateModuleTag
		IdleSpawnRate			= 10000							; spawn a new member every n seconds when idle (in miliseconds)
		MeleeFreeUnitSpawnTime		= 20000							; n miliseconds units must not have been fighting to be able to spawn units when idle (in miliseconds)
		DiedRespawnTime			= 10000							; how much time must pass after Banner Carrier dies before horde can spawn another
		MeleeFreeBannerReSpawnTime	= 20000							; how much time since horde has been fighting before a new Banner Carrier can be respawned
		
		BannerMorphFX		= FX_BannerCarrierMorph					; name of particle FX to use when the BannerCarrier morphs into the dest unit type
		UnitSpawnFX			= FX_BannerCarrierSpawnUnit				; name of particle FX to use when the BannerCarrier spawns a new unit
		
		; Depending on the unit type selected, we will morph into one of the following 
		; unitTypes by setting the appropriate model condition state
		;MorphCondition		= UnitType:WildMarauder		Locomotor:SET_NORMAL 	ModelState:"RIDER2"		
		; No need anymore
	End
	Scale = 1.13
	
End